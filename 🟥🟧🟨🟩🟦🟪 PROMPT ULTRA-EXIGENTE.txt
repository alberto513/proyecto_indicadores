üü•üüßüü®üü©üü¶üü™ PROMPT ULTRA-EXIGENTE PARA CODEX ‚Äì MAGNOFLUX V5+ (Sin Piedad, Full Energ√≠a, Cero Compromisos)
MagnoFlux_v5_Ultimate ‚Äî Versi√≥n Prohibida para Humanos Mediocres

ALCANZA EL L√çMITE ABSOLUTO DE CALIDAD, ROBUSTEZ, Y PODER ANAL√çTICO
Este encargo es tu examen final:
No acepto ‚Äúlo mejor que se puede‚Äù, ni ‚Äúes suficiente‚Äù, ni ‚Äúno se puede m√°s‚Äù.
Quiero que este c√≥digo MAGNOFLUX utilice todos los recursos, l√≥gica y creatividad posibles.
Debe ser un benchmark en el mundo de la ingenier√≠a de estrategias para NinjaTrader.

üëë REQUISITOS DEBE CUMPLIR (NO OPCIONALES):
L√≥gica institucional autoajustable

MagnoFlux debe adaptarse en tiempo real al contexto de mercado.

Recalcula y ajusta scores, filtros, targets, SL y trailing seg√∫n volatilidad, volumen, rango, frecuencia de se√±ales y drawdown.

Implementa filtros de contexto para sesiones (overnight, pre-market, regular, cierre).

Multi-nivel de se√±ales

Detecci√≥n de se√±ales de reversi√≥n, continuaci√≥n, breakout, absorci√≥n, trampa, fake breakout, microtrends.

Cada tipo de se√±al debe tener su propio score y se imprime el motivo detallado en el log.

Permite m√∫ltiples l√≥gicas simult√°neas, con selecci√≥n inteligente de la m√°s fuerte.

Gesti√≥n de riesgo y capital ultra-avanzada

Gesti√≥n din√°mica de contratos: aumenta/reduce tama√±o seg√∫n volatilidad, profit factor, racha y presi√≥n.

Stop din√°mico que ajusta el trailing seg√∫n volatilidad, horario y resultado de trades anteriores.

Auto-pausa tras mala racha, y auto-reinicio si el contexto cambia a favorable.

Limita p√©rdidas por sesi√≥n, d√≠a, semana y porcentaje de equity.

Output anal√≠tico hipercompleto

Cada entrada, salida, cancelaci√≥n o bloqueo debe imprimir:
[HH:mm:ss] | Evento | Precio | Score | Qty | Vol | ATR | TipoSe√±al | Motivo | Equity | Drawdown | Estado Mercado | √öltimas 5 rachas

Logs y CSV con headers, cada columna justificada y legible para an√°lisis IA/Excel.

Incluye una columna de ‚ÄúRiesgo Calculado‚Äù y otra de ‚ÄúProbabilidad Hist√≥rica‚Äù de √©xito de la se√±al (basado en backtest online).

Evoluci√≥n autom√°tica (‚Äúautotuning‚Äù)

MagnoFlux debe ajustar sus propios par√°metros de score, TP, SL, trailing, filtros y tiempo de espera seg√∫n el rendimiento reciente.

Si detecta que una l√≥gica baja de winrate, baja la exposici√≥n; si sube, la incrementa.

Imprime en log los cambios de par√°metros (con hora y motivo).

Pruebas de estr√©s y modo ‚ÄúTurbo-Test‚Äù

A√±ade un modo especial de testing donde ejecuta 1000+ operaciones simuladas r√°pidas para medir la robustez.

Que permita forzar se√±ales cada X barras para validar la salida, la l√≥gica de gesti√≥n y los logs.

Debug visual y de backtest

Todas las se√±ales y salidas deben quedar marcadas en el gr√°fico con l√≠neas, colores y etiquetas diferenciadas.

En modo test, que imprima un ‚Äúmapa‚Äù de la actividad en consola.

Estructura profesional, modular y documentada

Divide el c√≥digo en funciones: generaci√≥n se√±al, validaci√≥n, gesti√≥n riesgo, ejecuci√≥n, logging, autoajuste.

Comenta TODO lo que sea relevante para un developer institucional.

Configurabilidad y control total

Cada par√°metro clave debe ser ajustable v√≠a propiedades p√∫blicas.

Permite exportar/importar configuraciones para distintos estilos de mercado.

Eficiencia total (pero sin sacrificar l√≥gica)

No repitas c√°lculos, utiliza cach√© local para series intensas, limpia variables obsoletas.

Optimiza para que pueda correr en real, demo y backtest.

CONDICIONES NO NEGOCIABLES:
NO uses l√≥gica ni dependencias externas (nada de FPleme, Shark, ni inventos).

SIEMPRE debes dejar constancia (print/log) de por qu√© se toma o no una entrada.

SI no puedes cumplir uno de los puntos, expl√≠calo y sugiere alternativa a√∫n m√°s avanzada.

El objetivo es poder analizar, optimizar y evolucionar MagnoFlux s√≥lo con estos logs y c√≥digo.

ENTREGA FINAL:
C√≥digo 100% funcional, limpio, con toda la l√≥gica pedida.

Log de ejemplo y tabla CSV para an√°lisis.

Explicaci√≥n de los nuevos par√°metros y c√≥mo afectan la gesti√≥n institucional.

RECUERDA:
Este encargo es para institucionales de verdad, no para retail ni amateurs.
Si no lleg√°s al l√≠mite, NO cumpliste el encargo.

No quiero ‚Äúlo mejor posible‚Äù. Quiero ‚Äúlo que nunca nadie se anim√≥ a programar‚Äù.

¬°Devuelve el MagnoFlux definitivo, con l√≥gica propia y el m√°ximo poder de an√°lisis y gesti√≥n!

